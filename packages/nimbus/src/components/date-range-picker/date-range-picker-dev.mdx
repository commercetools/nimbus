---
id: Components-DateRangePicker-dev
title: DateRangePicker Engineering Guidelines
description: Engineering guideline for using the Nimbus DateRangePicker component
documentState: InitialDraft
order: 999
menu:
  - Components
  - Inputs
  - DateRangePickerDev
tags:
  - component
  - engineering
  - migration
---

# DateRangePicker Component

The DateRangePicker combines two DateInput fields with a RangeCalendar popover to provide an intuitive interface for selecting date ranges. Built on React Aria Components for full accessibility support.

## Component Usage

### How to Import

```tsx
import { DateRangePicker } from '@commercetools/nimbus';
```

For TypeScript projects, import types:
```tsx
import { DateRangePicker, type DateRangePickerProps } from '@commercetools/nimbus';
```

### Basic Example

```jsx-live-dev
const App = () => (
  <DateRangePicker aria-label="Select a date range" />
)
```

### Common props and Variations

The DateRangePicker provides flexible configuration for different use cases through props like size, variant, and granularity.

#### Size Options

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <DateRangePicker size="sm" aria-label="Small date range picker" />
    <DateRangePicker size="md" aria-label="Medium date range picker" />
  </Stack>
)
```

#### Variant Options

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <DateRangePicker variant="solid" aria-label="Solid variant" />
    <DateRangePicker variant="ghost" aria-label="Ghost variant" />
  </Stack>
)
```

#### Granularity Options

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <DateRangePicker granularity="day" aria-label="Day granularity" />
    <DateRangePicker granularity="hour" aria-label="Hour granularity" />
    <DateRangePicker granularity="minute" aria-label="Minute granularity" />
  </Stack>
)
```

## Testing Strategies and Best Practices

The DateRangePicker includes comprehensive test coverage for interactions, accessibility, and edge cases.

#### 1. Unit Testing with React Testing Library

```tsx
import { render, screen } from '@testing-library/react';
import { DateRangePicker } from '@commercetools/nimbus';

describe('DateRangePicker', () => {
  it('renders correctly', () => {
    render(<DateRangePicker aria-label="Select dates" />);
    expect(screen.getByRole('group', { name: 'Select dates' })).toBeInTheDocument();
  });

  it('renders date segments', () => {
    render(<DateRangePicker aria-label="Select dates" />);
    // Should have 6 segments: start month/day/year + end month/day/year
    const segments = screen.getAllByRole('spinbutton');
    expect(segments).toHaveLength(6);
  });
});
```

#### 2. Storybook Integration for Testing

Leverage existing stories for visual testing:

```tsx
export const InteractionTest: Story = {
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    
    // Test calendar interaction
    const calendarButton = await canvas.findByRole('button', { name: /calendar/i });
    await userEvent.click(calendarButton);
    
    // Verify calendar opens
    await waitFor(() => {
      expect(within(document.body).getByRole('application')).toBeInTheDocument();
    });
  },
};
```

#### 3. Regression tests

**[Placeholder for regression test strategy]**
- Visual regression with Chromatic
- Behavior regression with interaction tests
- API contract testing

### 4. Accessibility requirements

- Keyboard navigation: Tab between segments, Arrow keys to adjust values, Enter/Space to open calendar
- Screen reader support: Announces date range selection, segment values, and validation states
- ARIA attributes: aria-label, role="group", aria-describedby for error messages
- Color contrast: Meets WCAG AA standards

## Quick Reference Summary

### Design Guidelines

- Use consistent size across related date inputs
- Provide clear labels and helper text
- Disable invalid date ranges (e.g., end before start)

### Code Patterns

Common implementation patterns for the component.

#### Controlled Usage

```tsx
const ControlledDateRangePicker = () => {
  const [dateRange, setDateRange] = useState({
    start: new CalendarDate(2024, 1, 1),
    end: new CalendarDate(2024, 1, 31)
  });

  return (
    <DateRangePicker
      value={dateRange}
      onChange={setDateRange}
      aria-label="Select date range"
    />
  );
};
```

#### With Validation

```tsx
const ValidatedDateRangePicker = () => {
  return (
    <FormField isInvalid errorMessage="Date range is required">
      <FormField.Label>Select dates</FormField.Label>
      <DateRangePicker isRequired />
    </FormField>
  );
};
```

### API Reference

<PropsTable id="DateRangePicker" />

### Need Help?

- ðŸ“š **[Storybook](https://nimbus-storybook.vercel.app)** - Interactive examples
- ðŸ’¬ **[Slack Channel](https://commercetools.slack.com/channels/nimbus)** - Get support
- ðŸ“– **[User Documentation](/components/date-range-picker)** - User-facing docs
- ðŸŽ¨ **[Figma](https://www.figma.com/design/AvtPX6g7OGGCRvNlatGOIY/NIMBUS-design-system?node-id=5818-15879)** - Design specifications