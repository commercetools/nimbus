---
title: Number input component
tab-title: Implementation
tab-order: 3
---

## Getting started

### Import

```tsx
import { NumberInput, type NumberInputProps } from '@commercetools/nimbus';
```

### Basic usage

The simplest implementation uses uncontrolled mode:

```jsx-live-dev
const App = () => (
  <NumberInput placeholder="Enter a number" />
)
```

## Usage examples

### Size options

The `sm` and `md` size variants are available to match your interface density:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput size="sm" placeholder="Small input" />
    <NumberInput size="md" placeholder="Medium input (default)" />
  </Stack>
)
```

### Visual variants

Choose between `solid` and `ghost` variants to match your design context:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput variant="solid" placeholder="Solid variant (default)" />
    <NumberInput variant="ghost" placeholder="Ghost variant" />
  </Stack>
)
```

### Leading and trailing elements

Add icons, buttons, or other elements before or after the input using `leadingElement` and `trailingElement` props:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput
      placeholder="Quantity"
      leadingElement={<Icons.ShoppingCart />}
    />
    <NumberInput
      placeholder="Amount"
      leadingElement={<Icons.AttachMoney />}
      trailingElement={<Icons.TrendingUp />}
    />
  </Stack>
)
```

**Behavioral notes:**
- Elements automatically respect text direction (LTR/RTL)
- Leading element appears at the start (left in LTR, right in RTL)
- Trailing element appears before increment/decrement buttons
- Icon sizing automatically adjusts based on the `size` prop

### Number constraints

Control the acceptable range and increment values using `minValue`, `maxValue`, and `step` props:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Range constraint (1-100):</Text>
      <NumberInput
        placeholder="Enter 1-100"
        minValue={1}
        maxValue={100}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Step increment (multiples of 5):</Text>
      <NumberInput
        placeholder="Multiples of 5"
        step={5}
        defaultValue={0}
      />
    </Stack>
 
    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Combining constraints (10-100, step 10):</Text>
      <NumberInput
        placeholder="10, 20, 30..."
        minValue={10}
        maxValue={100}
        step={10}
      />
    </Stack>
  </Stack>
)
```

**Behavioral notes:**
- `minValue` and `maxValue` enforce valid ranges
- Increment/decrement buttons respect these limits
- Users can still type values outside the range, but validation will apply
- `step` determines the increment/decrement amount (default is 1)

### Decimal numbers

Support decimal precision by setting the `step` prop to a decimal value:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Two decimal places (step 0.01):</Text>
      <NumberInput
        placeholder="0.00"
        step={0.01}
        defaultValue={0}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">One decimal place (step 0.1):</Text>
      <NumberInput
        placeholder="0.0"
        step={0.1}
        defaultValue={0}
      />
    </Stack>
  </Stack>
)
```

**Behavioral notes:**
- `step` value determines decimal precision
- Increment/decrement buttons adjust by the step amount
- Users can type any decimal value
- Use with `minValue={0}` for positive-only numbers (prices, quantities)

### Format options

Customize number display using `formatOptions`, which leverages the [Intl.NumberFormat API](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat) for sophisticated formatting:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Currency (USD):</Text>
      <NumberInput
        defaultValue={1234.56}
        formatOptions={{
          style: 'currency',
          currency: 'USD'
        }}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Currency (EUR):</Text>
      <NumberInput
        defaultValue={1234.56}
        formatOptions={{
          style: 'currency',
          currency: 'EUR',
          currencyDisplay: 'code'
        }}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Percentage:</Text>
      <NumberInput
        defaultValue={0.85}
        step={0.01}
        minValue={0}
        maxValue={1}
        formatOptions={{
          style: 'percent',
          minimumFractionDigits: 0,
          maximumFractionDigits: 2
        }}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Unit (kilograms):</Text>
      <NumberInput
        defaultValue={45.5}
        step={0.1}
        formatOptions={{
          style: 'unit',
          unit: 'kilogram',
          unitDisplay: 'short'
        }}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Compact notation (millions):</Text>
      <NumberInput
        defaultValue={1500000}
        step={100000}
        formatOptions={{
          notation: 'compact',
          compactDisplay: 'short'
        }}
      />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">Scientific notation:</Text>
      <NumberInput
        defaultValue={12345}
        step={1000}
        formatOptions={{
          notation: 'scientific',
          maximumFractionDigits: 2
        }}
      />
    </Stack>
  </Stack>
)
```

**Common format options:**
- **Currency**: `{ style: 'currency', currency: 'USD' }` - Formats as money
- **Percentage**: `{ style: 'percent' }` - Formats decimals as percentages (0.85 → 85%)
- **Unit**: `{ style: 'unit', unit: 'kilogram' }` - Adds unit labels
- **Compact**: `{ notation: 'compact' }` - Short form (1,500,000 → 1.5M)
- **Scientific**: `{ notation: 'scientific' }` - Exponential notation (12345 → 1.23E4)

**Precision control:**
- `minimumFractionDigits` - Minimum decimal places
- `maximumFractionDigits` - Maximum decimal places
- `minimumSignificantDigits` - Minimum significant digits
- `maximumSignificantDigits` - Maximum significant digits

**Behavioral notes:**
- Format options affect display only, not the underlying numeric value
- Parsing automatically handles formatted input
- Combine with `step` for appropriate increment/decrement amounts
- Format options work with locale formatting (see Locale formatting section)

### Disabled state

Disable input interaction with the `isDisabled` prop:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput placeholder="Enabled input" />
    <NumberInput placeholder="Disabled input" isDisabled />
    <NumberInput
      value={42}
      isDisabled
      onChange={() => {}}
    />
  </Stack>
)
```

**Behavioral notes:**
- Increment and decrement buttons are also disabled
- Input cannot receive focus or accept keyboard input
- Visual styling indicates disabled state

### Invalid state

Mark inputs as invalid for validation feedback:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput
      placeholder="Valid input"
      value={50}
      onChange={() => {}}
    />
    <NumberInput
      placeholder="Invalid input"
      value={150}
      isInvalid
      onChange={() => {}}
    />
  </Stack>
)
```

### Read-only state

Use `isReadOnly` to display values without allowing editing:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput
      value={42}
      onChange={() => {}}
    />
    <NumberInput
      value={42}
      isReadOnly
      onChange={() => {}}
    />
  </Stack>
)
```

**Behavioral notes:**
- Users can select and copy text but cannot edit
- Increment and decrement buttons are disabled in read-only mode
- Input still receives focus for accessibility

### Required field

Mark inputs as required using the `isRequired` prop:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <NumberInput
      placeholder="Optional field"
    />
    <NumberInput
      placeholder="Required field"
      isRequired
    />
  </Stack>
)
```

### Uncontrolled mode

For simpler use cases, use uncontrolled mode with `defaultValue` and `onChange`:

```jsx-live-dev
const App = () => {
  const [displayValue, setDisplayValue] = useState<number | undefined>(undefined);

  return (
    <Stack direction="column" gap="400">
      <NumberInput
        placeholder="Type a number..."
        defaultValue={0}
        onChange={(value) => {
          setDisplayValue(value);
        }}
      />
      <Text fontSize="sm">
        Current value: {displayValue !== undefined ? displayValue : '(not set)'}
      </Text>
    </Stack>
  );
}
```

Use uncontrolled mode when you need to capture the number value without managing state yourself.

**Note:** NumberInput's `onChange` receives the number value directly, not an event object.

### Controlled mode

For scenarios requiring programmatic control or coordination with other components, use controlled mode:

```jsx-live-dev
const App = () => {
  const [value, setValue] = useState<NumberInputProps["value"]>(0);

  return (
    <Stack direction="column" gap="400">
      <NumberInput
        value={value}
        onChange={setValue}
        placeholder="Controlled input"
        minValue={0}
        maxValue={100}
      />
      <Text fontSize="sm">
        {value !== undefined ? `Value: ${value}` : 'No value'}
      </Text>
      <Stack direction="row" gap="300">
        <Button onPress={() => setValue(0)}>
          Reset to 0
        </Button>
        <Button onPress={() => setValue(50)}>
          Set to 50
        </Button>
        <Button onPress={() => setValue(100)}>
          Set to 100
        </Button>
      </Stack>
    </Stack>
  );
}
```

Use controlled mode when you need to:
- Synchronize the value with external state
- Validate or transform input values
- Clear or programmatically set the value
- React to changes in real-time

### Locale formatting

NumberInput automatically formats numbers according to the user's locale when using React Aria's I18nProvider:

```jsx-live-dev
const App = () => (
  <Stack direction="column" gap="400">
    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">US English (default):</Text>
      <NumberInput defaultValue={1234.56} placeholder="1,234.56" />
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">German (de-DE):</Text>
      <NimbusI18nProvider locale="de-DE">
        <NumberInput defaultValue={1234.56} placeholder="1.234,56" />
      </NimbusI18nProvider>
    </Stack>

    <Stack direction="column" gap="200">
      <Text fontSize="sm" color="neutral.11">French (fr-FR):</Text>
      <NimbusI18nProvider locale="fr-FR">
        <NumberInput defaultValue={1234.56} placeholder="1 234,56" />
      </NimbusI18nProvider>
    </Stack>
  </Stack>
)
```

**Behavioral notes:**
- Number formatting automatically adapts to the locale
- Thousands separators and decimal symbols change based on locale
- Input parsing handles locale-specific formats
- Wrap your app with `NimbusI18nProvider` to set the locale

## Component requirements

## Accessibility

The NumberInput handles most accessibility requirements internally. However, you must always associate an internationalized label with the component. Visual labels are preferable, and can be set by:

- Using the `NumberInputField` pattern component (recommended)
- Associating a `<label>` element with the `NumberInput` using `aria-labelledby`:

```tsx
<label id="quantity-label">
  {intl.formatMessage(quantityMessage)}
</label>
<NumberInput aria-labelledby="quantity-label" />
```

- Associating a `<label>` element with the `NumberInput` using `htmlFor`:

```tsx
<label htmlFor="quantity-input">
  {intl.formatMessage(quantityMessage)}
</label>
<NumberInput id="quantity-input" />
```

If your design requires that the label should not be visible, the label should be set using the `aria-label` prop:

```tsx
<NumberInput aria-label={intl.formatMessage(quantityMessage)} />
```

If your use case requires tracking and analytics for this component, it is good practice to add a **persistent**, **unique** id to the component:

```tsx
const PERSISTENT_ID = "product-quantity-input";

export const QuantityField = () => (
  <NumberInput id={PERSISTENT_ID} placeholder="Quantity" />
);
```

#### Keyboard navigation

The component supports full keyboard interaction:
- `Tab` / `Shift+Tab`: Navigate to/from the input field
- `Arrow Up` / `Arrow Down`: Increment/decrement the value by `step` amount
- `Page Up` / `Page Down`: Increment/decrement by larger amounts (10x step)
- `Home`: Set to minimum value (if `minValue` is defined)
- `End`: Set to maximum value (if `maxValue` is defined)
- `Enter`: Submit form (if inside a form)
- Standard text editing shortcuts: Cut, Copy, Paste, Undo, Redo

**Increment/Decrement buttons:**
- Click on increment (up arrow) or decrement (down arrow) buttons to adjust value
- Buttons are automatically disabled when reaching `minValue` or `maxValue`
- Buttons have localized aria-labels for screen readers

#### Click-to-focus behavior

Clicking anywhere within the input container (including leading/trailing elements area) will focus the input field, providing a larger interactive target for better usability.

## API reference

<PropsTable id="NumberInput" />

## Common patterns

### Quantity selector with constraints

Create a quantity input with minimum and maximum values:

```jsx-live-dev
const App = () => {
  const [quantity, setQuantity] = useState<number>(1);
  const totalPrice = quantity * 29.99;

  return (
    <Stack direction="column" gap="400">
      <Stack direction="column" gap="200">
        <Text fontWeight="semibold">Select Quantity</Text>
        <NumberInput
          value={quantity}
          onChange={(value) => setQuantity(value ?? 1)}
          minValue={1}
          maxValue={10}
          step={1}
        />
        <Text fontSize="sm" color="neutral.11">
          Minimum: 1, Maximum: 10
        </Text>
      </Stack>
      <Stack direction="row" justifyContent="space-between" alignItems="center">
        <Text>Total:</Text>
        <Text fontWeight="bold" fontSize="lg">
          ${totalPrice.toFixed(2)}
        </Text>
      </Stack>
    </Stack>
  );
}
```

### Measurement input with units

Create inputs for measurements with unit labels displayed as trailing elements:

```jsx-live-dev
const App = () => {
  const [weight, setWeight] = useState<number>(0);
  const [height, setHeight] = useState<number>(0);
  const bmi = weight && height ? (weight / Math.pow(height / 100, 2)).toFixed(1) : 0;

  return (
    <Stack direction="column" gap="600">
      <Stack direction="column" gap="300">
        <Text fontWeight="semibold">Weight</Text>
        <NumberInput
          value={weight}
          onChange={(value) => setWeight(value ?? 0)}
          placeholder="0"
          minValue={0}
          maxValue={300}
          step={0.1}
          trailingElement={<Text fontSize="sm" color="neutral.11">kg</Text>}
        />
      </Stack>

      <Stack direction="column" gap="300">
        <Text fontWeight="semibold">Height</Text>
        <NumberInput
          value={height}
          onChange={(value) => setHeight(value ?? 0)}
          placeholder="0"
          minValue={0}
          maxValue={250}
          step={1}
          trailingElement={<Text fontSize="sm" color="neutral.11">cm</Text>}
        />
      </Stack>

      {weight > 0 && height > 0 && (
        <Stack direction="row" justifyContent="space-between" alignItems="center">
          <Text>BMI:</Text>
          <Text fontWeight="bold" fontSize="lg">{bmi}</Text>
        </Stack>
      )}
    </Stack>
  );
}
```

## Testing your implementation

These examples demonstrate how to test your implementation when using NumberInput within your application. As the component's internal functionality is already tested by Nimbus, these patterns help you verify your integration and application-specific logic.

{{docs-tests: number-input.docs.spec.tsx}}

## Resources

- [Storybook](https://nimbus-storybook.vercel.app/?path=/docs/components-numberinput--docs)
- [React Aria NumberField](https://react-spectrum.adobe.com/react-aria/NumberField.html)
