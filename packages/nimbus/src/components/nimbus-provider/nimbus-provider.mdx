---
id: NimbusProvider
title: NimbusProvider
description: provides an environment for the rest of the components to work in
lifecycleState: Beta
order: 999
menu:
  - Components
  - Utilities
  - NimbusProvider
tags:
  - system
  - required
  - setup

---

# NimbusProvider

The `NimbusProvider` component provides the foundational context for all Nimbus components, including theming, internationalization, and optional client-side routing configuration.

## Basic usage

Without configuration, the `NimbusProvider` will provide the default theme and color mode (light)
and infer the locale from the browser.

```tsx
import { NimbusProvider } from "@commercetools/nimbus";

function App() {
  return (
    <NimbusProvider>
      <YourApp />
    </NimbusProvider>
  );
}
```

## Set up translation messages

`NimbusProvider` automatically loads translation messages from `@commercetools/nimbus-i18n` for the given locale. Simply wrap your application with `NimbusProvider` at the root level, and all Nimbus components throughout your application will automatically use the correct translations.

You can specify a [BCP47 language tag](https://en.wikipedia.org/wiki/IETF_language_tag) (e.g., `"en-US"`, `"de-DE"`, `"fr-FR"`) via the `locale` prop. If no locale is provided, it defaults to the user's browser locale.

### Automatic message loading (Recommended)

Simply pass the `locale` prop and `NimbusProvider` will handle loading messages automatically:

```tsx
import { NimbusProvider } from "@commercetools/nimbus";

function App() {
  const locale = navigator.language || "en";

  return (
    <NimbusProvider locale={locale}>
      <YourApp />
    </NimbusProvider>
  );
}
```

The provider will automatically:
- Load messages from `@commercetools/nimbus-i18n` for the given locale
- Handle loading states (returns `null` while loading to prevent `MISSING_TRANSLATION` errors)
- Fall back to English if the locale is not supported
- Normalize region-specific codes (e.g., `en-US` → `en`, `de-DE` → `de`)

### Providing custom messages

If you want to override or extend the default Nimbus messages, you can provide your own `messages` prop using `getMessagesForLocale`:

```tsx
import { useEffect, useState } from "react";
import { NimbusProvider, getMessagesForLocale, type IntlMessages } from "@commercetools/nimbus";

function App() {
  const locale = navigator.language || "en";
  const [messages, setMessages] = useState<IntlMessages>({});

  useEffect(() => {
    getMessagesForLocale(locale).then((nimbusMessages) => {
      // Extend with your own messages
      setMessages({
        ...nimbusMessages,
        "my.custom.key": "My custom translation",
      });
    });
  }, [locale]);

  return (
    <NimbusProvider locale={locale} messages={messages}>
      <YourApp />
    </NimbusProvider>
  );
}
```

### Supported locales

The following locales are supported:
- `en` (English) - default fallback
- `de` (German)
- `es` (Spanish)
- `fr-FR` (French)
- `pt-BR` (Portuguese - Brazil)

Region-specific codes (e.g., `en-US`, `de-DE`) are automatically normalized to their base locale. If a locale is not supported, it falls back to English.

### Using components with translations

Once you've provided `messages` to `NimbusProvider` at your app's root level, all Nimbus components throughout your entire application will automatically use the correct translations based on the `locale` prop. **No additional configuration is needed for individual components**s.

```tsx
import { Alert } from "@commercetools/nimbus";

function MyComponent() {
  return (
    <Alert.Root colorPalette="info" variant="outline">
      <Alert.Title>Success!</Alert.Title>
      <Alert.Description>
        Your changes have been saved successfully.
      </Alert.Description>
      <Alert.DismissButton />
      {/* The dismiss button automatically uses the correct translation */}
    </Alert.Root>
  );
}
```

The `Alert.DismissButton` will automatically display the translated text (e.g., "Dismiss" in English, "Schließen" in German) based on the locale you set in `NimbusProvider`. This same pattern applies to all Nimbus components that use translations.

## Set up router

The `NimbusProvider` can be configured with client-side routing to enable seamless navigation for all Nimbus components that support links (like `Link`, `Button` with href, etc.).

### React router

```tsx
import { useNavigate, useHref } from 'react-router-dom';
import { NimbusProvider } from "@commercetools/nimbus";

function App() {
  const navigate = useNavigate();

  return (
    <NimbusProvider 
      router={{ 
        navigate,
        useHref 
      }}
    >
      <YourApp />
    </NimbusProvider>
  );
}
```

### Next.js app router

```tsx
'use client';
import { useRouter } from 'next/navigation';
import { NimbusProvider } from "@commercetools/nimbus";

function ClientProviders({ children }) {
  const router = useRouter();

  return (
    <NimbusProvider 
      router={{ 
        navigate: router.push 
      }}
    >
      {children}
    </NimbusProvider>
  );
}
```

### Next.js with base path

```tsx
'use client';
import { useRouter } from 'next/navigation';
import { NimbusProvider } from "@commercetools/nimbus";

function ClientProviders({ children }) {
  const router = useRouter();
  const useHref = (href: string) => process.env.BASE_PATH + href;

  return (
    <NimbusProvider 
      router={{ 
        navigate: router.push,
        useHref 
      }}
    >
      {children}
    </NimbusProvider>
  );
}
```

## Props

<PropsTable id="NimbusProvider" />
