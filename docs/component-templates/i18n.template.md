# i18n Template ({component}.i18n.ts)

Template for component internationalization **source file**. This file is used
for message extraction during build - components do NOT import this file at
runtime.

> **Note:** `.i18n.ts` files are plain TypeScript objects extracted by a custom
> script during build. No external dependencies are needed.

Replace: ComponentName, component-name, componentMessagesStrings with
{componentName}MessagesStrings

```typescript
/**
 * Internationalization messages for ComponentName
 * Replace: ComponentName, component-name, componentMessagesStrings with {componentName}MessagesStrings
 */

export const messages = {
  // Simple aria-label example
  dismiss: {
    id: "Nimbus.ComponentName.dismiss",
    description: "aria-label for dismiss button in component-name",
    defaultMessage: "Dismiss",
  },

  // Dynamic message with pluralization example
  itemsSelected: {
    id: "Nimbus.ComponentName.itemsSelected",
    description: "Label showing number of selected items",
    defaultMessage:
      "{count, plural, =0 {No items selected} =1 {1 item selected} other {# items selected}}",
  },
};
```

## Usage in Component

> **Important:** Components do NOT import `.i18n.ts` files. They import compiled
> `*.messages.ts` dictionaries generated by the build pipeline.

```typescript
import { useLocalizedStringFormatter } from "@/hooks";
import { componentMessagesStrings } from "./component-name.messages";

export const ComponentName = (props: ComponentNameProps) => {
  const msg = useLocalizedStringFormatter(componentMessagesStrings);

  // Simple message (no variables)
  const dismissLabel = msg.format("dismiss");

  // Message with variables (pass args as second parameter)
  const selectionLabel = msg.format("itemsSelected", {
    count: selectedItems.length,
  });

  return (
    <div>
      <button aria-label={dismissLabel}>
        <CloseIcon />
      </button>
      <span>{selectionLabel}</span>
    </div>
  );
};
```

## Build Process

After creating the `.i18n.ts` file:

1. **Extract messages:** Run `pnpm extract-intl` to extract messages from
   `.i18n.ts` files → Creates/updates `packages/i18n/data/core.json`

2. **Translate:** Messages are translated via Transifex workflow → Updates
   `packages/i18n/data/*.json` files for each locale

3. **Compile:** Run `pnpm --filter @commercetools/nimbus-i18n build` to compile
   messages → Generates
   `packages/nimbus/src/components/{component}/{component}.messages.ts`

4. **Use in component:** Import and use the compiled message dictionary (see
   "Usage in Component" above)

## Checklist

**Source File (`.i18n.ts`):**

- [ ] File named `{component}.i18n.ts`
- [ ] All message IDs follow pattern `Nimbus.{ComponentName}.{key}`
- [ ] Each message has id, description, and defaultMessage
- [ ] Messages exported using: `export const messages = {...}`
- [ ] Run `pnpm extract-intl` to extract messages to
      `packages/i18n/data/core.json`

**Component Usage:**

- [ ] Component imports message strings:
      `import { componentMessagesStrings } from "./component.messages"`
- [ ] Component uses `useLocalizedStringFormatter` hook:
      `import { useLocalizedStringFormatter } from "@/hooks"`
- [ ] Component calls `msg.format("key")` for simple string messages
- [ ] Component calls `msg.format("key", { variableName: value })` for variable
      messages
- [ ] All aria-labels are properly localized

---

[← Back to Templates Index](./index.md)
